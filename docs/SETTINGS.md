# Настройки и функции

Этот документ кратко описывает основные параметры конфигурации и их назначение.

## Файл `config.json`
- **windowSec** – размер скользящего окна усреднения скорости в секундах.
- **V_START** – порог скорости (см/мин) для перехода линии в состояние `RUN`.
- **V_STOP** – порог скорости (см/мин) для фиксации состояния `STOP`.
- **delayStart** – задержка перед подтверждением запуска после превышения `V_START`.
- **delayStop** – задержка перед подтверждением остановки после падения ниже `V_STOP`.
- **graphHours** – глубина графика скорости в часах (24 или 48).
- **offlineTimeout** – время в секундах, после которого отсутствие пакетов считается остановкой.
- **lineNames** – отображаемые имена для каждой из 13 линий.
- **settingsPassword** – пароль для доступа к странице настроек.

## Файл `auth/users.json`
Содержит перечень пользователей, их роли и bcrypt‑хэши паролей. Доступные роли:
- `viewer` – только просмотр данных.
- `operator` – смена изделия и комментарии.
- `manager` – отчёты и причины простоев.
- `admin` – доступ к настройкам и обслуживанию.

## Arduino скетч
В каталоге `arduino/` лежит пример прошивки `esp32_monitor.ino` для ESP32. Она подсчитывает импульсы, отправляет их на сервер и использует `packetId` для идемпотентности.
