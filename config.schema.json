{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Extrusion Monitor Configuration",
  "type": "object",
  "properties": {
    "windowSec": {
      "type": "integer",
      "description": "Seconds used to smooth incoming pulse data into a moving average speed",
      "default": 60
    },
    "V_START": {
      "type": "number",
      "description": "Speed threshold (cm/min) that triggers a RUN state after delayStart seconds",
      "default": 0.5
    },
    "V_STOP": {
      "type": "number",
      "description": "Speed threshold (cm/min) that triggers a STOP state after delayStop seconds",
      "default": 0.3
    },
    "delayStart": {
      "type": "integer",
      "description": "Seconds that speed must remain above V_START before transitioning to RUN",
      "default": 30
    },
    "delayStop": {
      "type": "integer",
      "description": "Seconds that speed must remain below V_STOP before transitioning to STOP",
      "default": 30
    },
    "graphHours": {
      "type": "integer",
      "description": "Depth of the speed chart in hours (24 or 48)",
      "default": 24
    },
    "offlineTimeout": {
      "type": "integer",
      "description": "Seconds without packets before a line is forced to STOP",
      "default": 60
    },
    "lineNames": {
      "type": "object",
      "description": "Display names for the 13 lines",
      "additionalProperties": { "type": "string" }
    },
    "enabledLines": {
      "type": "array",
      "description": "Lines included in processing; inactive lines still appear in the UI",
      "items": { "type": "string" }
    },
    "settingsPassword": {
      "type": "string",
      "description": "Password required to authorise changes via the settings page"
    },
    "products": {
      "type": "object",
      "description": "Current product assigned to each line",
      "additionalProperties": { "type": "string" }
    },
    "telegramToken": {
      "type": "string",
      "description": "Bot token for Telegram notifications"
    },
    "telegramChatId": {
      "type": "string",
      "description": "Chat identifier for Telegram notifications"
    }
  }
}

